{% extends "layout.html" %}
{% block title %}{{ chai.name }} Details{% endblock %}

{% block content %}
<!-- 🔝 AUTO-HIDING NAVBAR -->
<header id="navbar" class="flex items-center justify-between p-4 bg-white shadow-md sticky top-0 z-50 navbar-visible transition-transform duration-300">
  <div class="text-xl font-bold text-amber-800">
    <a href="{% url 'home' %}">☕ ChaiWala</a>
  </div>
  <nav class="space-x-4">
    <sl-button variant="warning" outline onclick="location.href='{% url 'home' %}'">Home</sl-button>
    <sl-button variant="warning" outline onclick="location.href='{% url 'all_chai' %}'">All Chai</sl-button>
    <sl-button variant="warning" outline onclick="location.href='{% url 'view_cart' %}'">🛒 Cart</sl-button>
    <sl-button variant="warning" outline>Orders</sl-button>
    <sl-button variant="primary" outline>Login</sl-button>
  </nav>
</header>

<!-- 👇 Scroll Behavior Script -->
<script>
  let lastScrollTop = 0;
  const navbar = document.getElementById("navbar");

  window.addEventListener("scroll", function () {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

    if (scrollTop > lastScrollTop) {
      navbar.classList.remove("navbar-visible");
      navbar.classList.add("navbar-hidden");
    } else {
      navbar.classList.remove("navbar-hidden");
      navbar.classList.add("navbar-visible");
    }
    lastScrollTop = scrollTop;
  });
</script>

<!-- 👇 Include in <style> tag or CSS file -->
<style>
  .navbar-hidden {
    transform: translateY(-100%);
  }

  .navbar-visible {
    transform: translateY(0);
  }
</style>

<div class="max-w-6xl mx-auto my-10 px-4">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-start">
    
    <!-- 🍵 Product Image -->
    <div>
      <img
        src="{{ chai.img.url }}"
        alt="{{ chai.name }}"
        class="w-full max-h-[400px] object-cover rounded-2xl shadow"
      />
    </div>
    
    <!-- 📄 Product Info -->
    <div class="pl-4">
      <h1 class="text-3xl font-bold text-gray-900 mb-2">{{ chai.name }}</h1>
      <p class="text-xl text-green-700 mb-4 font-semibold">
        ₹{{ chai.price }} <span class="text-sm text-gray-600">per kg</span>
      </p>
      
      <sl-rating value="4" readonly></sl-rating>

      <p class="mt-4 text-gray-700 leading-relaxed whitespace-pre-line">
        {{ chai.description }}
      </p>

      <!-- ✅ Buttons -->
      <div class="mt-6 flex gap-4">
<div class="mt-8">
  <a href="{% url 'view_cart' %}"
     class="inline-block bg-amber-600 hover:bg-amber-700 text-white font-semibold py-2 px-6 rounded-full text-lg shadow transition">
 🛒 Add to Cart
  </a>


</div>

<div class="mt-8">
  <a href="{% url 'all_chai' %}"
     class="inline-block bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-6 rounded-full text-lg shadow transition">
    ← Back
  </a>
</div>



      </div>
    </div>

  </div>
</div>

<style>
  sl-rating::part(base) {
    font-size: 1.25rem;
  }
</style>
{% endblock %}
